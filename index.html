<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>inversify.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Inversify -->
		<link rel="stylesheet" href="css/inversify.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
                    <img class="plain logo" src="./inversify-logo.png" alt="">
                    <img class="plain logo" src="./ts-logo.png" alt="">
                    <h1>Inversify JS</h1>
                    <h3>Dependency Inversion in TypeScript applications</h3>
                </section>

                <section>
                    <section data-markdown>
                    <textarea data-template>
                    ## Coupling
                    > Coupling between modules occurs when one
                    > module directly references another module.

                    > In other words, one module “knows” about another module
                    </textarea>
                    </section>

                    <section data-markdown>
                    <textarea data-template>
                    ## OO designs principles

                    * Favor *object composition* over *class inheritance*
                    * Depend upon Abstraction. Do not depend upon concretions
                    </textarea>
                    </section>

                    <section>
                        <h2>Dependency Injection</h2>
                        <div class="inversify-code-blocks"
                             style="font-size: xx-large">
                        <pre><code>class Ninja implements INinja {
    private katana: Katana
    private shuriken: Shuriken

    constructor() {
        this.katana = new Katana();
        this.shuriken = new Shuriken();
    }

    public fight() { this.katana.hit() }
    public sneak() { this.shuriken.throw() }
}</code></pre>

                            <pre><code>class Ninja implements INinja {
    private katana: Katana
    private shuriken: Shuriken

    constructor(katana: Katana, shuriken: Shuriken) {
        this.katana = katana;
        this.shuriken = shuriken;
    }

    public fight() { this.katana.hit() }
    public sneak() { this.shuriken.throw() }
}</code></pre>
                        </div>
                    </section>

                    <section>
                        <h2>Dependency Inversion</h2>
                        <div class="inversify-code-blocks"
                             style="font-size: xx-large">
                        <pre><code>class Ninja implements INinja {
    private katana: Katana
    private shuriken: Shuriken

    constructor(katana: Katana, shuriken: Shuriken) {
        this.katana = katana;
        this.shuriken = shuriken;
    }

    public fight() { this.katana.hit() }
    public sneak() { this.shuriken.throw() }
}</code></pre>

                            <pre><code>class Ninja implements INinja {
    private katana: IKatana
    private shuriken: IShuriken

    constructor(katana: IKatana, shuriken: IShuriken) {
        this.katana = katana;
        this.shuriken = shuriken;
    }

    public fight() { this.katana.hit() }
    public sneak() { this.shuriken.throw() }
}</code></pre>
                        </div>

                        <div class="inversify-code-blocks">
                            <pre class="ligature">Ninja  -->  Katana</pre>
                            <pre class="ligature">Ninja  -->  IKatana  <--  Katana</pre>
                        </div>
                    </section>

                    <section>
                        <h3>Composition root</h3>

                        <blockquote>a unique location in an application where
                            modules are composed together
                        </blockquote>

                        <div class="inversify-code-blocks"
                             style="font-size: xx-large">
                        <pre><code>constructor(katana: IKatana, shuriken: IShuriken) {
    this.katana = new Katana();
    this.shuriken = new Shuriken();
}</code></pre>

                            <pre><code>import { Ninja } from './ninja'
import { Katana } from './katana'
import { Shuriken } from './shuriken'

const katata = new Katana()
const shuriken = new Shuriken()

export const ninja = new Ninja(katata, shuriken)</code></pre>
                        </div>
                    </section>

                    <section>
                        <h3>Inversion of Control container</h3>
                        <div class="inversify-code-blocks"
                             style="font-size: xx-large">
                        <pre><code>import { Container } from 'inversify'
import {
    KATANA,
    NINJA,
    SHURIKEN,
} from './inversify.type.ts'
import { INinja, Ninja } from './ninja'
import { IKatana, Katana } from './katana'
import { IShuriken, Shuriken } from './shuriken'

export const container = new Container()
container.bind&lt;INinja&gt;(NINJA).to(Ninja)
container.bind&lt;IKatana&gt;(KATANA).to(Katana)
container.bind&lt;IShuriken&gt;(SHURIKEN).to(Shuriken)</code></pre>

                            <pre><code>import { container } from './inversify.config.ts'
import { NINJA } from './inversify.type.ts'
import { INinja } from './ninja'

export const ninja = container.get&lt;INinja&gt;(NINJA)</code></pre>
                        </div>
                    </section>
                </section>

                <section>
                    <section id="inversify-library">
                        <h3>Inversify JS</h3>
                        <div>
                            <div>
                                <img class="plain"
                                     src="./inversify-logo-transparent.svg"
                                     alt="">
                            </div>
                            <div style="flex-shrink: 1">
                                A powerful and lightweight inversion of control
                                container for JavaScript & Node.js apps powered
                                by TypeScript.
                            </div>
                        </div>
                    </section>

                    <section id="inversify-config">
                        <h3>inversify.config.ts</h3>

                        <pre><code>import { Container } from 'inversify'
import {
    KATANA,
    NINJA,
    SHURIKEN,
} from './inversify.type.ts'
import { INinja, Ninja } from './ninja'
import { IKatana, Katana } from './katana'
import { IShuriken, Shuriken } from './shuriken'

export const container = new Container()
container.bind&lt;INinja&gt;(NINJA).to(Ninja)
container.bind&lt;IKatana&gt;(KATANA).to(Katana)
container.bind&lt;IShuriken&gt;(SHURIKEN).to(Shuriken)</code></pre>

                        <ul>
                            <li>IoC container is aware of all modules</li>
                            <li>Coupling takes place in one unique place</li>
                        </ul>
                    </section>

                    <section id="inversify-modules">
                        <h3>Declaring container modules</h3>
                        <div>
                        <pre><code>// warriors.module.ts
import { ContainerModule } from 'inversify'
import { INinja, Ninja } from './ninja'

export const warriors = new ContainerModule(bind => {
    bind&lt;INinja&gt;(NINJA).to(Ninja)
})</code></pre>
                        <pre><code>// weapons.module.ts
import { ContainerModule } from 'inversify'
import { IKatana, Katana } from './katana'
import { IShuriken, Shuriken } from './shuriken'

export const weapons = new ContainerModule(bind => {
    bind&lt;IKatana&gt;(KATANA).to(Katana)
    bind&lt;IShuriken&gt;(SHURIKEN).to(Shuriken)
})</code></pre>
                        <pre><code>// inversify.config.ts
import { Container } from 'inversify'
import { warriors } from './warriors.module.ts'
import { weapons } from './weapons.module.ts'

export const container = new Container()
container.load(weapons)
container.load(warriors)</code></pre>
                        <pre><code>// index.ts
import { container } from './inversify.config.ts'
import { NINJA } from './inversify.type.ts'
import { INinja } from './ninja'

export const ninja = container.get&lt;INinja&gt;(NINJA)</code></pre>
                        </div>

                        <p>
                        <code>ContainerModule</code> are used when the
                        <code>inversify.config.ts</code> file becomes too large
                        </p>
                    </section>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
